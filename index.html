<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SRM Suggestions</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="dist/main.js" defer></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
<nav class="container-fluid">
    <ul>
        <li><strong>SRM Suggestions</strong></li>
    </ul>
    <ul>
        <li id="submit-suggestion-btn" class="hidden"><a href="#submit-suggestion" role="button">Submit Suggestion</a></li>
        <li id="signin-btn">
            <button onclick="signInWithGoogle()" aria-label="Sign in with Google">
                <i class="fab fa-google"></i> Sign In with Google
            </button>
        </li>
        <li id="profile-container" class="hidden">
            <img id="profile-pic" src="" alt="Profile Picture" class="profile-pic" onclick="signInWithGoogle()">
        </li>
    </ul>
</nav>

<main class="container">
    <section>
        <hgroup>
            <h2>Suggestion List</h2>
            <h3>A list of all the suggestions received by SRMC.</h3>
        </hgroup>
        <p>Below is a list of all suggestions along with their submission times, current consideration status, and any comments from SRMC.</p>
        <p>To submit a new suggestion, please log in using your IISER Mohali email account by clicking the button in the top right corner.</p>

        <!-- Filter Menus -->
        <div id="filters" class="filter-container">
            <div>
                <label for="filter-type">Filter by Type</label>
                <select id="filter-type" name="filter-type">
                    <option value="All">All</option>
                    <option value="Dish">Dish</option>
                    <option value="General">General</option>
                </select>
            </div>
            <div>
                <label for="filter-status">Filter by Status</label>
                <select id="filter-status" name="filter-status">
                    <option value="All">All</option>
                    <option value="Processing">Processing</option>
                    <option value="Completed">Completed</option>
                    <option value="Rejected">Rejected</option>
                </select>
            </div>
            <div>
                <button onclick="fetchSuggestions()">Apply Filters</button>
            </div>
        </div>
    </section>

    <section id="suggestions-list">
        <!-- Suggestions will be dynamically added here -->
    </section>

    <!-- Suggestion Form -->
    <section id="submit-suggestion" class="hidden">
        <hgroup>
            <h2>Submit a Suggestion</h2>
            <p>
                When writing a suggestion, please ensure you select the correct category.
                For general suggestions, include the reason in the same box.
            </p>
            <p>
                You can fill out the form multiple times, but please try to keep only one suggestion per entry.
                Note that the form is not anonymous and we only store your email address.
            </p>
        </hgroup>
        <label for="suggestion-type">Type</label>
        <select id="suggestion-type" name="type" required>
            <option value="General">General</option>
            <option value="Dish">Dish</option>
        </select>
        <label for="suggestion-text">Suggestion</label>
        <textarea id="suggestion-text" name="suggestion" required></textarea>
        <button onclick="submitSuggestion(); fetchSuggestions();">Submit</button>
    </section>
</main>

<footer class="container">
    <h2>Contact Us</h2>
    <p>If you have any queries, please contact us at the provided email address.</p>
    <a href="mailto:studentmess@iisermohali.ac.in">studentmess@iisermohali.ac.in</a>
</footer>
</body>
</html>
